"use strict";function getKey(e){var r,t=asmCrypto.PBKDF2_HMAC_SHA256.bytes(strToArray(e),saltArr,500,32);try{r=arrayToStr(new Uint8Array(decipher(t,testEncryptedData)))}catch(e){return}if(r===testEncryptedPlainText)return t}function decipher(e,r){return asmCrypto.AES_CBC.decrypt(r,e,!0,ivArr).buffer}function hexToArray(e){for(var r=new Uint8Array(e.length/2),t=0;t<e.length;t+=2)r[t/2]=parseInt(e.charAt(t)+e.charAt(t+1),16);return r}function strToArray(e){return Uint8Array.from(unescape(encodeURIComponent(e)).split("").map(function(e){return e.charCodeAt(0)}))}function arrayToStr(e){return decodeURIComponent(escape(Array.prototype.map.call(e,function(e){return String.fromCharCode(e)}).join("")))}function getFile(e){var r=new XMLHttpRequest;return r.responseType="arraybuffer",r.open("GET",e),r.send(null),new Promise(function(e,t){r.onloadend=function(){404===r.status?e(""):r.response?e(r.response):t(r.error)}})}self.importScripts("/assets/asmcrypto.js?_=fa9483");var saltArr=hexToArray("79f9ff63bf690f0c4640a8fce3bc3d6e"),ivArr=hexToArray("c9567d08a04248a3202e7a5541ff9cf0"),testEncryptedData=hexToArray("ab7334b313ea8e5333a1db44dd782e59"),testEncryptedPlainText="testvalue",encryptedDOMSteps="/cv/steps.json.aes?_=bc3132",encryptedPrivatePDF="/cv/timdream-private.pdf.aes?_=fb8b6f";self.onmessage=function(e){var r=e.data.password;Promise.all([getKey(r),getFile(encryptedDOMSteps),getFile(encryptedPrivatePDF)]).then(function(e){var r=e[0],t=e[1],n=e[2];if(!r)throw"Incorrect Password.";return Promise.all([decipher(r,t),decipher(r,n)])}).then(function(e){self.postMessage({type:"result",domModifications:JSON.parse(arrayToStr(new Uint8Array(e[0]))),privatePDFBlob:new Blob([e[1]],{type:"application/pdf"})})}).catch(function(e){console.error(e),"string"==typeof e?self.postMessage({type:"result",error:e}):self.postMessage({type:"error",message:message})})};
//# sourceMappingURL=asmcrypto-decipher.min.js.map