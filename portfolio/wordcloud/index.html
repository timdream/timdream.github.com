<!DOCTYPE html>
<html class="page no-js" lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>
HTML5 Word Cloud
— Timothy Guan&#8209;tin Chien — @timdream</title>
  <meta property="og:title" content="
HTML5 Word Cloud
" />
  <meta name="author" content="Timothy Guan-tin Chien">
  <meta property="og:type" content="article">
  <meta property="fb:admins" content="541998202" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="payment" href="https://flattr.com/submit/auto?url=http%3A%2F%2Ftimdream.org%2F&amp;user_id=timdream&amp;title=Timothy%20Guan%E2%80%91tin%20Chien&amp;description=My%20profolio." type="text/html" />
  <style type="text/css">
html, body {
  margin: 0;
  padding: 0;
  font-size: 18px;
  line-height: 24px;
}

body {
  font-family: Georgia, serif;
  color: rgba(0, 0, 0, 0.95);
  background: #f8f8f8 url("/assets/little-pluses.png?_=3ab494");
  text-size-adjust: none;
  -webkit-text-size-adjust: none;
}

header.main > *,
header.main > * > *, /* Chrome bug? */
body > section,
body > hr,
body > footer {
  opacity: 0;
}

section, footer {
  padding: 24px 6px;
}

header {
  font-family: Merriweather, Bookman Old Style, Times, serif;
  background: url("/assets/45-degree-fabric-dark.png?_=fe52ed") #275cb6;
  box-shadow: 0 0 5px #000;
}

header h1 {
  color: unset;
  padding: 0;
}

h1 {
  color: rgba(0, 0, 0, 0.8);
  font-size: 30px;
  line-height: 32px;
  font-weight: bold;
}

section, footer, h1 {
  max-width: 680px;
  margin: 0 auto;
}
header.main {
  padding: 9px 6px;
}

header h1 {
  font-size: 18px;
  line-height: 24px;
}

#handle {
  font-size: 12px;
  line-height: 24px;
  vertical-align: 2px;
}
  </style>
  <script type="text/javascript">
    (function() {
      var linkEl = document.createElement('link');
      linkEl.rel = 'stylesheet';
      linkEl.href = 'https://fonts.googleapis.com/css?family=Merriweather:700';
      document.documentElement.firstElementChild.appendChild(linkEl);
      var fontFaceSet = document.fonts;
      if (fontFaceSet) {
        document.documentElement.classList.add('font-loading');
        var loadend = function() {
          fontFaceSet.onloadingdone = fontFaceSet.onloadingerror = null;
          document.documentElement.classList.remove('font-loading');
        };
        fontFaceSet.onloadingdone = fontFaceSet.onloadingerror = loadend;
        setTimeout(loadend, 500);
      }
    })();

    (function() {
      var linkEl = document.createElement('link');
      linkEl.rel = 'stylesheet';
      linkEl.href = '/assets/style.min.css?_=e85a6b';
      document.documentElement.firstElementChild.appendChild(linkEl);
    })();
  </script>
  <noscript>
    <link href="https://fonts.googleapis.com/css?family=Merriweather:700" rel="stylesheet" type="text/css">
    <link href="assets/style.min.css?_=e85a6b" rel="stylesheet" type="text/css">
  </noscript>
  <script type="text/javascript" src="/assets/script.min.js?_=d412a5" defer></script>
<script src="https://timdream.org/wordcloud2.js/src/wordcloud2.js" defer></script>
<script>

var list = (function generateLoveList() {
  var nums = [5, 4, 3, 2, 2];
  // This list of the word "Love" in language of the world was taken from
  // the Language links of entry "Love" in English Wikipedia, with duplicate
  // spelling removed.
  var words = ('Liebe,ፍቅር,Lufu,حب,Aimor,Amor,Heyran,ভালোবাসা,Каханне,Любоў,Любов,བརྩེ་དུང་།,' +
    'Ljubav,Karantez,Юрату,Láska,Amore,Cariad,Kærlighed,Armastus,Αγάπη,Amo,Amol,Maitasun,' +
    'عشق,Pyar,Amour,Leafde,Gràdh,愛,爱,પ્રેમ,사랑,Սեր,Ihunanya,Cinta,ᑕᑯᑦᓱᒍᓱᑉᐳᖅ,Ást,אהבה,' +
    'ಪ್ರೀತಿ,სიყვარული,Махаббат,Pendo,Сүйүү,Mīlestība,Meilė,Leefde,Bolingo,Szerelem,' +
    'Љубов,സ്നേഹം,Imħabba,प्रेम,Ái,Хайр,အချစ်,Tlazohtiliztli,Liefde,माया,मतिना,' +
    'Kjærlighet,Kjærleik,ପ୍ରେମ,Sevgi,ਪਿਆਰ,پیار,Miłość,Leevde,Dragoste,' +
    'Khuyay,Любовь,Таптал,Dashuria,Amuri,ආදරය,Ljubezen,Jaceyl,خۆشەویستی,Љубав,Rakkaus,' +
    'Kärlek,Pag-ibig,காதல்,ప్రేమ,ความรัก,Ишқ,Aşk,محبت,Tình yêu,Higugma,ליבע').split(',');

  return [['Love', 12]]
    .concat(nums.reduce(function(arr, n) {
      return arr
        .concat(words
            .map((function(w) { return [w, n]; })));
    }, []));
})();

function draw() {
  (window.requestAnimationFrame || window.setTimeout)(function() {
    var canvasEl = document.getElementById('wordcloud-canvas');
    var width = 1280;

    var options = {
      gridSize: Math.round(16 * width / 1024),
      weightFactor: function (size) {
        return Math.pow(size, 2.3) * width / 1024;
      },
      fontFamily: 'Times, serif',
      color: function (word, weight) {
        return (weight === 12) ? '#f02222' : '#c09292';
      },
      rotateRatio: 0.5,
      rotationSteps: 2,
      backgroundColor: '#fff0f0',
      list: list
    };

    if (typeof WordCloud === 'function' && WordCloud.isSupported) {
      WordCloud(canvasEl, options);
    } else {
      document.getElementById('wordcloud-canvas-container').hidden = true;
      document.getElementById('wordcloud-fallback-container').hidden = false;
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  draw();

  document.getElementById('reload-link')
    .addEventListener('click', function(evt) {
      evt.preventDefault();
      draw();
    });
}, { once: true });

</script>
</head>
<body>
<header class="main">
  <!--
    U+2011 is the non-breaking hyphen, since a compound name be written with a
    hyphen (instead of any dashes) and the name must not be split by a line break.
  -->
  <a href="/">
    <h1>Timothy Guan&#8209;tin Chien<span class="sr">·</span><small id="handle">@timdream</small></h1>
  </a>
</header>

<section>

<h1>
<strong>
HTML5 Word Cloud
</strong>
</h1>

<p><a href="https://timdream.org/wordcloud/" target="_blank"><strong>HTML5 Word Cloud</strong></a> was a web technology demonstration that process <strong class="soft">text corpus</strong> into words, and leverages <strong>Canvas2DContext API</strong> to layout words into a <strong class="soft">“word cloud.”</strong></p>

<figure>
  <div id="wordcloud-canvas-container">
    <canvas width="1280" height="960" id="wordcloud-canvas" class="js"></canvas>
    <figcaption class="js">This is a live canvas, <a id="reload-link" href="#">reload</a> to get a different arrangement.</figcaption>
  </div>
  <div id="wordcloud-fallback-container" hidden>
    <img src="/assets/wordcloud-example-noscript.jpg?_=318640" style="max-width: 680px" alt="WordCloud example" />
    <figcaption>Visit <a href="https://timdream.org/wordcloud2.js/" target="_blank">wordcloud2.js</a> to draw your cloud.</figcaption>
  </div>
  <noscript>
    <img src="/assets/wordcloud-example-noscript.jpg?_=318640" style="max-width: 680px" alt="WordCloud example" />
    <figcaption>Visit <a href="https://timdream.org/wordcloud2.js/" target="_blank">wordcloud2.js</a> with JavaScript enabled to draw your cloud.</figcaption>
  </noscript>
</figure>

<p>It started back when I was working on <a href="/portfolio/moztw/">Firefox localization</a>.
I was trying to access the quality of the UI <strong class="soft">text corpus</strong> with some simple natural language processing tricks. </p>

<p>It accidentally gains popularity and grew into a full-fledged <strong class="soft">client-side web application</strong> when I added features allowing users to pull texts from their social networks.
I did that by incorporating <strong>OAuth 2</strong> integration with <strong>Google+</strong>, <strong>Facebook API</strong> integration, and Google Feed API.</p>

<p>To promote reusability, the web application has since split into different libraries, <a href="https://timdream.org/wordcloud2.js/" target="_blank">wordcloud2.js</a>, and <a href="https://timdream.org/wordfreq/" target="_blank">wordfreq.js</a>, each represents the canvas rendering and the text corpus generation features.</p>

<p>Unfortunately, I had to gut these features out when various APIs shuts down which prevented me from accessing their user data.</p>

<p>I made sure the code is reusable for other developers by complete the repository with documentation, <strong>Travis CI</strong>, and test cases.
It still receives occasional contributions on <strong class="soft">GitHub</strong> to this day.
<a aria-label="Next chapter" class="end-mark" href="/portfolio/jszhuyin/"></a></p>

</section>

<hr class="section-break" />

<footer>
<p>I hope you like it here. Best,<span id="footer-handle"> — <a href="/" class="home">@timdream</a>.</span></p>
</footer>

</body>
</html>
